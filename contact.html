<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IdetaKaori's Portfolio</title>
    <link href="
    https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.css
    " rel="stylesheet">

    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        (function (d) {
            var config = {
                kitId: 'ayw6ybt',
                scriptTimeout: 3000,
                async: true
            },
                h = d.documentElement, t = setTimeout(function () { h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive"; }, config.scriptTimeout), tk = d.createElement("script"), f = false, s = d.getElementsByTagName("script")[0], a; h.className += " wf-loading"; tk.src = 'https://use.typekit.net/' + config.kitId + '.js'; tk.async = true; tk.onload = tk.onreadystatechange = function () { a = this.readyState; if (f || a && a != "complete" && a != "loaded") return; f = true; clearTimeout(t); try { Typekit.load(config) } catch (e) { } }; s.parentNode.insertBefore(tk, s)
        })(document);
    </script>
</head>

<body>

    <!-- 右固定ナビゲーション -->

    <header>
        <div class="header">
            <div class="wrapper">
                <nav class="pc_nav">
                    <ul>
                        <li class="en"><a href="./index.html">TOP</a></li>
                        <li class="en"><a href="./about.html">ABOUT ME</a></li>
                        <li class="en here"><a href="#contact">CONTACT</a></li>
                    </ul>
                    <div class="line_vertical"></div>
                    <ul>
                        <li class="en"><a href="./works_hp.html">HP</a></li>
                        <li class="en"><a href="./works_lp.html">LP</a></li>
                        <li class="en"><a href="./works_bn.html">BANNER</a></li>
                        <li class="en not_btn">WORKS</li>
                    </ul>
                </nav>
            </div>
            <div class="sp_btn"><span></span></div>
            <div class="sp_menu">
                <div>
                    <div class="menu_portfolioname">
                        <p class="en">THANKS TO COMING. THIS IS THE <span>IDETA KAORI’S PORTFORIO</span>.</p>
                    </div>
                    <div class="content">
                        <nav class="sp_nav">
                            <ul>
                                <li class="en"><a href="./index.html">TOP</a></li>
                                <li class="en"><a href="./about.html">ABOUT ME</a></li>
                                <li class="en"><a href="./works_hp.html">HP<span>WORKS</span></a></li>
                                <li class="en"><a href="./works_lp.html">LP<span>WORKS</span></a></li>
                                <li class="en"><a href="./works_bn.html">BANNER<span>WORKS</span></a></li>
                                <li class="en"><a href="./contact.html">CONTACT</a></li>
                            </ul>
                        </nav>
                        <div class="triangle_top"></div>
                        <div class="triangle_bottom"></div>

                    </div>
                </div>
            </div>
            <div class="fade-effect"></div>
        </div>
    </header>

    <!-- 左固定アニメーション -->

    <div class="top_portfolioname">
        <p class="en">THANKS TO COMING. THIS IS THE <span>IDETA KAORI’S PORTFORIO</span>.THANKS TO COMING. THIS IS THE
            <span>IDETA KAORI’S PORTFORIO</span>.THANKS TO COMING. THIS IS THE <span>IDETA KAORI’S
                PORTFORIO</span>.THANKS TO COMING. THIS IS THE <span>IDETA KAORI’S PORTFORIO</span>.THANKS TO COMING.
            THIS IS THE <span>IDETA KAORI’S PORTFORIO</span>.THANKS TO COMING. THIS IS THE <span>IDETA KAORI’S
                PORTFORIO</span>.
        </p>
    </div>
    <div class="bg"></div>

    <main data-scroll-container>
        <section data-scroll-section class="scroll_section forth_section">
            <div class="contact" id="contact">
                <div class="wrapper">
                    <div class="top_contents">
                        <div class="ttl">
                            <h2>おはなしする</h2>
                            <p class="cursive">Contact</p>
                            <div class="erase"></div>
                            <div class="contact_line"></div>
                        </div>
                        <div class="txt">
                            <p>ご相談や励ましのお言葉など、<br>
                                何でもお話できたらと思います。<br>
                                お気軽にお問い合わせください。<br>
                                右記フォームより必要事項を記入いただき、<br>
                                「送信する」を押してください。</p>
                        </div>
                        <form
                            action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSdQT8L3UAJMfiiDTRGbAAKqm935UD3J8gkRpPijM-KmUQ2-sQ/formResponse"
                            method="post" target="hidden_iframe" onsubmit="submitted=true;" class="wrapper">
                            <table class="contact-table">
                                <tr>
                                    <th>お名前</th>
                                    <td>
                                        <input type="text" name="entry.366340186" placeholder="山田　花子">
                                    </td>
                                </tr>
                                <tr>
                                    <th>メールアドレス</th>
                                    <td>
                                        <input type="email" name="entry.1131966218" placeholder="@">
                                    </td>
                                </tr>
                                <tr>
                                    <th>お問い合わせ内容</th>
                                    <td>
                                        <textarea name="entry.714382665" id=""></textarea>
                                    </td>
                                </tr>
                            </table>
                            <input class="submit" type="submit" value="送信する">

                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script src="
https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.js
"></script>
    <script>
        (() => {
            document.addEventListener('DOMContentLoaded', () => {
                const scroll = new LocomotiveScroll({
                    el: document.querySelector('[data-scroll-container]'),
                    direction: 'horizontal',
                    smooth: true,
                    tablet: {
                        direction: 'horizontal',
                        smooth: true,
                    },
                    smartphone: {
                        direction: 'horizontal',
                        smooth: true,
                    }
                })

                const bg = document.querySelector('.bg')
                const secondSection = document.querySelector('.second_section')
                const secondSectionX = secondSection.getBoundingClientRect().x
                // console.log(secondSectionX)
                scroll.on('scroll', function (event) {
                    const scrollX = event.scroll.x
                    // console.log(scrollX)
                    if (scrollX <= secondSectionX) {
                        const opacity = 1 - (scrollX / secondSectionX)
                        bg.style.opacity = opacity
                    }
                })
                function calculate() {
                    const aboutLine = document.querySelector('.about_line')
                    const firstSection = document.querySelector('.first_section')
                    const secondCursive = document.querySelector('.second_cursive')

                    const firstSectionX = firstSection.getBoundingClientRect().x + firstSection.getBoundingClientRect().right
                    // console.log(firstSectionX)
                    const secondCursiveX = secondCursive.getBoundingClientRect().x
                    // console.log(secondCursiveX)
                    const lineWidth = secondCursiveX - firstSectionX
                    // console.log(lineWidth)
                    if (window.matchMedia('(min-width:768px)')) {
                        /**画面幅が768px以上のときの処理 */
                        const lineWidth = secondCursiveX - firstSectionX + 82
                        console.log(lineWidth)
                    } else {
                        /**画面幅が768px以上のときの処理 */
                        const lineWidth = secondCursiveX - firstSectionX + 45
                        console.log(lineWidth)
                    }
                    aboutLine.style.width = lineWidth + 'px'
                }
                calculate()
                window.addEventListener('resize', () => {
                    calculate()
                })

                const anchorLinks = document.querySelectorAll('a[href^=\\#]:not([href$=\\#])');

                anchorLinks.forEach((anchorLink) => {
                    let link = anchorLink.getAttribute('href');
                    let target = document.querySelector(link);

                    anchorLink.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();

                        scroll.scrollTo(target);
                    })
                })




            });

        })()


    </script>

    <script>
        $(function () {
            const $effect = $('.fade-effect');
            const $menu = $('.sp_menu');
            $('.sp_btn').on('click', function () {

                // $('.sp_menu').fadeToggle();
                // $('.sp_menu').toggleClass('active')
                $('.sp_btn').toggleClass('open');
                // $('.header').toggleClass('open');
                // 消したら背景色がなくなる
                // $('.top_portfolioname').toggleClass('open');
                // 消したら下の横長が表示されたままになる

                if ($menu.is(':visible')) {
                    $effect.addClass('show');
                    setTimeout(function () {
                        $effect.removeClass('show');
                        $menu.hide();
                    }, 500)
                } else {
                    $effect.addClass('show');
                    setTimeout(function () {
                        $effect.removeClass('show');
                        $menu.show();
                    }, 500)
                }
            })
        });
    </script>
    <script type="text/javascript">
        let submitted = false;
    </script>
    <iframe name="hidden_iframe" id="hidden_iframe" style="display: none"
        onload="if(submitted){window.location='THANKSページのURL';}"></iframe>

</body>

</html>